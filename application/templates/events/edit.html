{% extends "layout.html" %}

{% block body %}
<h3>Current info</h3>
  <table>
    <tr>
      <th>Name</th>
      <th>Date & time</th>
      <th>Info</th>
      <th>id</th>
    </tr>

    <tr>
      <td>{{ events.name }}</td>
      <td>{{ events.day }} {{ events.time }}</td>
      <td>{{ events.info }}</td>
      <td>{{ events.id }}</td>
    </tr>
    

  </table>
  <h3>Belts</h3>
  <table>
    <tr>
      <th>For this event</th>
      <th>Not for this event</th>
    </tr>

    <tr>
      <td>{% for b in belts %}

        <form method="POST" action="{{ url_for('del_belt', id=events.id, b_id=b.b_id) }}">
          <input type="submit" value="Remove {{ b.belt }}"/>
        </form>

        {% endfor %}</td>
      <td>{% for b in not_belts %}

        <form method="POST" action="{{ url_for('add_belt', id=events.id, b_id=b.b_id) }}">
          <input type="submit" value="Add {{ b.belt }}"/>
        </form>

        {% endfor %}</td>
    </tr>
  </table>
  <h3>Topics</h3>
  <table>
    <tr>
      <th>For this event</th>
      <th>Not for this event</th>
    </tr>

    <tr>
      <td>{% for t in topics %}

        <form method="POST" action="{{ url_for('del_topic', id=events.id, t_id=t.t_id) }}">
          <input type="submit" value="Remove {{ t.desc }}"/>
        </form>

        {% endfor %}</td>
      <td>{% for t in not_topics %}

        <form method="POST" action="{{ url_for('add_topic', id=events.id, t_id=t.t_id) }}">
          <input type="submit" value="Add {{ t.desc }}"/>
        </form>

        {% endfor %}</td>
    </tr>
  </table>
  <h3>Edit</h3>
  <form method="POST" action="{{ url_for('mod_events', id=events.id) }}">
    <table>
      <tr>
  <td>
    {{ form.name.label }}
  </td>
  <td>
    {{ form.name }}
  </td>
      </tr>
      <tr>
        <td>
          {{ form.day.label }}
        </td>
        <td>
          {{ form.day }}
        </td>
      </tr>
      <tr>
        <td>
          {{ form.time.label }}
        </td>
        <td>
          {{ form.time }}
        </td>
      </tr>
      <tr>
        <td>
          {{ form.info.label }}
        </td>
        <td>
          {{ form.info }}
        </td>
      </tr>
      <tr>
  <td colspan="2">
    <input type="hidden" name="id" value="{{ events.id }}"/>
    <input type="submit" value="Change"/>
  </td>
      </tr>
  </table>
  </form>
  <p>Nb! Please use 'd.m.yyyy' format for 'Day'. Unknown inputs will be interpreted as 'today'.</p>

  <p>Do you wish to delete this event? You cannot undo this!</p>
  <form method="POST" action="{{ url_for('events_del', id=events.id) }}">
    <input type="hidden" name="id" value={{ events.id }}/>
    <input type="submit" value="Delete"/>
  </form>

{% endblock %}